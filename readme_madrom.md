```xml

─ Реальный спектpум. (2:5030/827.2) ────────────────────────────── REAL.SPECCY ─
Msg  : 637 of 639
From : Alexander Kormishin                 2:4616/11.3     16 May 99  14:19:16
To   : All                                                 18 May 99  06:47:16
Subj : MadRom v3.5
────────────────────────────────────────────────────────────────────────────────
Здравствуй, All!

Сабж готов.

В архиве лежат такие четыре файла:

MADROM.B  - Загружает прошивку с диска и запускает. С помощью
него можно посмотреть, что же это такое.
PROG_IT.C - Уже подготовленная к процедуре записи в ПЗУ
прошивка с дефолтовыми настройками, (см.ниже)
MADROM.C  - "Полуфабрикат", основная часть прошивки.
Используется при компиляции настроенного сабжа.
ROMINST.C - Исходник с драйверами. Все необходимые операции
по настройке "MadRom" на конкретное "железо"
выполняются здесь.

Итак, если пользователь полностью удовлетворен уже настроенным сабжем, в ПЗУ
можно зашивать имеющийся кодовый файл  "PROG_IT.C". Если нет - пожалуйста, сабж
можно сначала  настроить, а затем только зашить в ПЗУ.

Упомянутые выше "дефолтовые настройки" - это:

- драйвер CMOS - полный глюковский стандарт.
- файл названий "программных переключателей" содержит
необходимый минимум этих названий.
- неиспользуемые опции главного меню "Ext-Q" и "Ext-A".
- в подпрограмме начальной инициаллизации сабжа нет ничего
лишнего.
- задержка, учитывающая время действия сигнала RESET -
минимальна.


Hовое в "MadRom".

- сделан новый вьювер текстов, вставлен в коммандер. В
коммандере висит на клавише "I". Функция просмотра
экранного файла перевешена на клавишу "W".
По кл. SS+"I" moжно посмотреть ранее загруженный текст.
Внимание! Если текст ранее загружен не был, или буфер под
текст засорился после операций копирования/уплотнения
файлов, нормальная работоспособность этой опции не
гарантируется.

- опции "Text viewer" и "XCOPY" из основного меню убраны, на
их место пользователь может установить свои функции и так
прошить ПЗУ.
/Вставляйте сами ваши парольные доступы, стартеры издосов с
винтов, подсчет памяти в компе и т.п. /

- сделана возможность установить пользовательский драйвер
часов и программу инициализации, см. файл "ROMINST.C" из
архива.

- Для повышения надежности запуска сервисной прошивки сделана
возможность установки длительности задержки (стоит перед
началом запуска и распаковки прошивки), см.файл "ROMINST.C"

- в коммандере сделано то, что откладывалось на протяжении
полутора лет: RESTORE теперь нормально работает на
тормозных дисководах.

- убито много багов, причем всех трех - в основном меню и
CMOS SetUp прошивки.

- разные новые мелочи.

----------------------------------------------------

Вьювер текстов.

Сделан в "спартанском" стиле. Hикаких декоративностей на  экране, никаких
лишних функций.

Дабы не возникало лишних неприятностей, сделана возможность настроить вьювер в
соответствии с особенностями железа пользователя. Hастройки вьювера после
сброса
не восстанавливаются. Hекоторые алгоритмы, использовшиеся во вьювере из-за
недостатка свободного места упрощены. Из-за этого, например, опция "Search
next"
иногда работает глупо.

Управляющие клавиши во вьювере:

"Q","A","O","P", cursor, sinclair - скроллирование вверх/вниз построчно и
постранично.
"INV.VID.","TRUE VID." - на страницу вверх/вниз.

"3" - (un)wrap.
"1","2" - скроллирование вправо-влево в режиме с выключенным делением длинных
строк.
"E" - вход в меню настроек.
"S" - ввод строки для поиска в тексте.
"N" - поиск следующей введеной строки в тексте.
"SPACE","ENTER" - выход из вьювера в коммандер.
SS,CS+"О" - переход в конец текста.
SS,CS+"P" - переход в начало текста.


---------------------------------------------------

Клавиши в основном меню прошивки "MadRom"

"1","2","3","4" - установка текущего дискового устройства
"U" - запуск Basic128 с адреса 0/#C9
"S" - запуск TRDOS в 128-м(и выше) режиме
"O" - запуск TRDOS в 48-м режиме
"I" - запуск Basic48 в 128-м(и выше) режиме.
"R" - Запуск ранее загруженной программы (ассемблера) из банка #14/#51 #7FFD.
"H" - вызов программы в кеше по адресу 0/#3FFD
"T" - запуск ранее загруженной программы (дебаггера) из банка #17/#57 #7FFD.
"ENTER" - запуск коммандера.
"A" - запуск подпрограммы #1, определенной пользователем.
"Q" - запуск подпрограммы #2, определенной пользователем.
"0" - вход в CMOS SetUp сервисной прошивки.

SS+"0" - вход в CMOS SetUp с уничтоженным синхронизатором по признаку
обновления CMOS (это необходимо, если по каким-либо причинам бит этого признака
находится все время в активном состоянии, и из-за этого CMOS SetUp просто
зависает).

CS+"2" - создание/очистка RamDisk'a для TRDOS 5.12f (5.13).


БОльшая часть "горячих клавиш" основного меню выделены.
Все опции доступны К-мышкой.


Клавиши опций в CMOS SetUp также выделены кроме:

SS+"K" - в(ы)ключение будильника.
"I" - редактирование карты памяти CMOS.
"SPACE" - выход из CMOS SetUp.

Все опции CMOS SetUp доступны с мыши.

---------------------------------------------------

Клавиши в коммандере:

Все понятно из панелей в нижней части экрана. Кроме:

"1"..."4" - перечитать каталог дисковода "А"..."D";
SS+"1"..."4" - установить destination-диск.
"K" - пометка файлов по маске;
SS+"R" - переименовывание файлов по маске;
SS+"J" - "склеивание" групп последовательно помеченных файлов/ создание
моноблоков;
SS+"O"- переключение режима запуска файлов - в 128К-режиме, или с полностью
открытой расширенной памятью;
SS+"P"- выбор объема буфера копирования - 128К/вся найденная расширенная
память;
"W" - просмотр экранного файла;
"U" - запуск кодового файла.
"I" - просмотр текстового файла;
SS+"I" - просмотр содержимого текстового буфера.

Эти опции коммандера недоступны с мыши.

=======================================================



До свидания, All.

AXLR.


--- S4M
* Origin:  "Вялые и противные".  (2:4616/11.3)
```